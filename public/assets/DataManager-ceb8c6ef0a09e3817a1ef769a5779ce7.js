function DataManager(a,t,e,i,o,s){this.yearBox=a,this.weekBox=t,this.map=e,this.getDataFunc=i,this.afterGetCallback=o,this.processDataFunc=s,this.dataCache={};var n=this;$(this.yearBox).change(function(){n.fixSelects(),n.requestData()}),$(this.weekBox).change(function(){n.requestData()}),$(a).on("mouseover",function(a){a.stopPropagation()}),this.addOptions()}DataManager.prototype.getRawData=function(){return this.rawData},DataManager.prototype.setDataReturnFunction=function(a){this.afterGetCallback=a},DataManager.prototype.getDataReturnFunction=function(){return this.afterGetCallback},DataManager.prototype.addOptions=function(){for(;this.yearBox.hasChildNodes();)this.yearBox.removeChild(this.yearBox.lastChild);for(;this.weekBox.hasChildNodes();)this.weekBox.removeChild(this.weekBox.lastChild);var a=0;for(var t in this.map)if(this.map.hasOwnProperty(t)){var e=document.createElement("option");e.innerHTML=t,$(e).val(t),this.yearBox.appendChild(e),t>a&&(a=t)}$(this.yearBox).val(a);for(var i=1;i<this.map[a];i++){var e=document.createElement("option");e.innerHTML=i,e.className="selectBoxOption",$(e).val(i),this.weekBox.appendChild(e),$(this.weekBox).val(i)}},DataManager.prototype.fixSelects=function(){$(weekBox).val()>this.map[$(this.yearBox).val()]&&$(weekBox).val(this.map[$(this.yearBox).val()])},DataManager.prototype.requestData=function(a,t,e){var i;i="undefined"==typeof a?$(this.yearBox).val():a;var o;o="undefined"==typeof t?$(this.weekBox).val():t;var s=e;"undefined"==typeof e&&(s=null),this.dataCache[i]&&this.dataCache[i][o]?this.afterGetCallback(this.dataCache[i][o],s):(this.dataCache[i]||(this.dataCache[i]=[]),this.getDataFunc([i,o],this.afterGetCallback,s))},DataManager.prototype.updateData=function(a){return this.rawData=a,this.processedData=this.processDataFunc($.extend(!0,[],this.rawData)),this.dataCache[$(this.yearBox).val()][$(this.weekBox).val()]=a,this.processedData};