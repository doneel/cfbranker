function getMessage(e){ranker.updateCode(e.data.newCode),ranker.updateData(e.data.rawData),ranker.run()}function buildTeamTile(e,a){var n=document.createElement("div");n.className="teamTile";n.onclick=function(){console.log(a)};var t=document.createElement("div");t.className="numberingDiv",n.appendChild(t);var r=document.createElement("p");r.className="rankNumber",r.innerHTML=e+1,t.appendChild(r);var d=document.createElement("div");d.className="teamSide",n.appendChild(d);var m=document.createElement("img");m.className="teamLogo";try{m.src="/assets/team_logos/"+a.team_code+".png"}catch(o){}d.appendChild(m);var c=document.createElement("p");return c.className="teamName",c.innerHTML=a.name,d.appendChild(c),n}function remap(e){for(var a={},n=0;n<e.length;n++)a[e[n].name]=e[n];for(var t={},r=0;r<e.length;r++)for(var d=e[r],m=0;m<e[r].schedule.length;m++){var o=d.schedule[m];o.opp=a[o.opp],o.team=e[r];var c=t[o.game_code];c?(o.opp_game=c,c.opp_game=o):t[o.game_code]=o}return e}window.onload=function(){window.addEventListener?addEventListener("message",getMessage,!1):attachEvent("onmessage",getMessage),ranker=new Ranker(document.querySelector(".rankings"),null,null,buildTeamTile,remap),$(".banner").css("display","none")};